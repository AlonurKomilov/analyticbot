â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸš€ API Subdomain Quick Start - api.analyticbot.org              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… ALREADY DONE:
  âœ“ DNS configured in Cloudflare (api â†’ 185.211.5.244)
  âœ“ Backend .env updated (CORS includes api.analyticbot.org)
  âœ“ Frontend .env.production updated (API URL = api.analyticbot.org)
  âœ“ Nginx configs created (api + frontend)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ NEXT STEPS (30 MINUTES):

1ï¸âƒ£  GET SSL CERTIFICATE (10 min)

   # Install certbot with Cloudflare DNS plugin
   sudo apt-get install certbot python3-certbot-dns-cloudflare

   # Create API token file
   sudo mkdir -p /root/.secrets
   sudo nano /root/.secrets/cloudflare.ini

   # Add to file:
   dns_cloudflare_api_token = YOUR_TOKEN_HERE

   # Get token from:
   https://dash.cloudflare.com/profile/api-tokens
   (Use "Edit zone DNS" template)

   # Get wildcard certificate
   sudo chmod 600 /root/.secrets/cloudflare.ini
   sudo certbot certonly \
     --dns-cloudflare \
     --dns-cloudflare-credentials /root/.secrets/cloudflare.ini \
     -d analyticbot.org -d '*.analyticbot.org'

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

2ï¸âƒ£  DEPLOY NGINX CONFIGS (5 min)

   cd /home/abcdeveloper/projects/analyticbot

   # Copy configs
   sudo cp infra/nginx/api.analyticbot.conf /etc/nginx/sites-available/
   sudo cp infra/nginx/frontend.analyticbot.conf /etc/nginx/sites-available/

   # Enable sites
   sudo ln -sf /etc/nginx/sites-available/api.analyticbot.conf /etc/nginx/sites-enabled/
   sudo ln -sf /etc/nginx/sites-available/frontend.analyticbot.conf /etc/nginx/sites-enabled/

   # Test and reload
   sudo nginx -t && sudo systemctl reload nginx

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

3ï¸âƒ£  START BACKEND API (5 min)

   # Create systemd service
   sudo nano /etc/systemd/system/analyticbot-api.service

   # Copy content from API_SUBDOMAIN_DEPLOYMENT.md Step 3

   # Start service
   sudo systemctl daemon-reload
   sudo systemctl enable analyticbot-api
   sudo systemctl start analyticbot-api
   sudo systemctl status analyticbot-api

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

4ï¸âƒ£  BUILD AND DEPLOY FRONTEND (10 min)

   cd /home/abcdeveloper/projects/analyticbot/apps/frontend
   npm install
   npm run build

   sudo mkdir -p /var/www/analyticbot/frontend
   sudo cp -r dist/* /var/www/analyticbot/frontend/
   sudo chown -R www-data:www-data /var/www/analyticbot

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

5ï¸âƒ£  CONFIGURE CLOUDFLARE (2 min)

   Go to: Cloudflare Dashboard â†’ SSL/TLS

   Set:
   â€¢ Encryption mode: Full (strict)
   â€¢ Always Use HTTPS: ON
   â€¢ Minimum TLS: 1.2
   â€¢ Automatic HTTPS Rewrites: ON

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§ª TESTING:

# Test API
curl https://api.analyticbot.org/health
# Should return: {"status":"healthy"}

# Test Frontend
curl https://www.analyticbot.org/ | head -20
# Should return: HTML with <!DOCTYPE html>

# Test in Browser
1. Visit: https://www.analyticbot.org/auth?mode=login
2. Open Console (F12)
3. No CORS errors âœ…
4. Login page shows (not JSON) âœ…
5. Telegram button appears âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ FILES CREATED:

âœ… infra/nginx/api.analyticbot.conf
âœ… infra/nginx/frontend.analyticbot.conf
âœ… API_SUBDOMAIN_DEPLOYMENT.md (full guide)
âœ… API_SUBDOMAIN_QUICKSTART.txt (this file)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ†˜ TROUBLESHOOTING:

502 Bad Gateway?
  â†’ sudo systemctl status analyticbot-api
  â†’ sudo systemctl start analyticbot-api

CORS Errors?
  â†’ Check: grep CORS_ORIGINS .env
  â†’ Should have: https://www.analyticbot.org

SSL Error?
  â†’ sudo certbot certificates
  â†’ sudo certbot renew

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– FULL GUIDE: API_SUBDOMAIN_DEPLOYMENT.md
