# ============================================================================
# ANALYTICBOT DEVELOPMENT ENVIRONMENT TEMPLATE
# Copy this file to .env.development and configure with your actual values
# Port Series: 11xxx (Development) - All local development services
# ============================================================================

# ============================================================================
# CORE APPLICATION
# ============================================================================
ENVIRONMENT=development
DEBUG=true
APP_VERSION=7.5.0
APP_NAME=AnalyticBot

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=DEBUG
LOG_FORMAT=text
LOG_FILE_PATH=var/logs/development.log
LOG_RETENTION_DAYS=7
LOG_ROTATION_SIZE=10MB

# ============================================================================
# DEVELOPMENT FEATURES & API CONFIGURATION
# ============================================================================
ENABLE_CORS=true
ENABLE_DOCS=true
ENABLE_HOT_RELOAD=true
ENABLE_DEBUG_TOOLBAR=true
DEBUG_TOOLBAR_ENABLED=true
API_DOCS_ENABLED=true
API_MAX_REQUEST_SIZE=10MB
API_REQUEST_TIMEOUT=30
RELOAD_ON_CHANGE=true
RESPONSE_COMPRESSION_ENABLED=false
GRACEFUL_SHUTDOWN_ENABLED=true

# ============================================================================
# TELEGRAM BOT CONFIGURATION
# ============================================================================
BOT_TOKEN=CHANGE_ME_YOUR_BOT_TOKEN_FROM_BOTFATHER
STORAGE_CHANNEL_ID=CHANGE_ME_YOUR_STORAGE_CHANNEL_ID
ADMIN_IDS=CHANGE_ME_COMMA_SEPARATED_ADMIN_USER_IDS
ADMIN_IDS_STR=CHANGE_ME_COMMA_SEPARATED_ADMIN_USER_IDS
DEFAULT_LOCALE=en
SUPPORTED_LOCALES=en,uz
BOT_DEBUG=true

# Bot Webhook (Development - usually not used)
BOT_WEBHOOK_HOST=
BOT_WEBHOOK_PATH=/webhook/telegram
BOT_WEBHOOK_SECRET=CHANGE_ME_WEBHOOK_SECRET

# ============================================================================
# DATABASE CONFIGURATION - Development (External Docker Services)
# ============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=10100
POSTGRES_USER=analytic
POSTGRES_PASSWORD=CHANGE_ME_STRONG_DATABASE_PASSWORD
POSTGRES_DB=analytic_bot
DATABASE_URL=postgresql+asyncpg://analytic:CHANGE_ME_PASSWORD@localhost:10100/analytic_bot

# Database Connection Pool Settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_ECHO=true

# Test Database
TEST_DATABASE_URL=postgresql+asyncpg://analytic:CHANGE_ME_PASSWORD@localhost:10100/analytic_bot_test

# ============================================================================
# REDIS CONFIGURATION - Development
# ============================================================================
REDIS_URL=redis://localhost:10200/0
REDIS_PORT=10200

# ============================================================================
# API CONFIGURATION - Development (11400 series)
# ============================================================================
API_HOST=0.0.0.0
API_PORT=11400
API_RELOAD=true
API_HOST_URL=http://localhost:11400
API_HOST_URL_EXTERNAL=http://localhost:11400

# ============================================================================
# FRONTEND CONFIGURATION - Development (11300 series)
# ============================================================================
FRONTEND_PORT=11300
VITE_API_URL=http://localhost:11400
VITE_API_BASE_URL=http://localhost:11400
VITE_NODE_ENV=development
VITE_ENABLE_ANALYTICS=true
VITE_ENABLE_DEBUG=true
VITE_DEFAULT_THEME=light
VITE_DEBUG=true

# ============================================================================
# CORS CONFIGURATION - Development
# ============================================================================
CORS_ORIGINS=["http://localhost:11300","http://localhost:11400","http://localhost:3000","http://127.0.0.1:11300","http://127.0.0.1:11400","http://127.0.0.1:3000"]

# ============================================================================
# SECURITY & AUTHENTICATION - Development
# ============================================================================
JWT_SECRET_KEY=CHANGE_ME_JWT_SECRET_KEY_AT_LEAST_32_CHARACTERS_LONG
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
SECRET_KEY=CHANGE_ME_SECRET_KEY_FOR_ENCRYPTION
PASSWORD_MIN_LENGTH=6
PASSWORD_HASH_ROUNDS=8

# ============================================================================
# MTPROTO CONFIGURATION - Development (Disabled by default)
# ============================================================================
MTPROTO_ENABLED=false
MTPROTO_HISTORY_ENABLED=false
MTPROTO_UPDATES_ENABLED=false
MTPROTO_STATS_ENABLED=false
TELEGRAM_API_ID=CHANGE_ME_YOUR_TELEGRAM_API_ID
TELEGRAM_API_HASH=CHANGE_ME_YOUR_TELEGRAM_API_HASH
TELEGRAM_SESSION_NAME=analyticbot_dev_session

# MTProto Collection Settings
MTPROTO_PEERS=[]
MTPROTO_HISTORY_LIMIT_PER_RUN=10
MTPROTO_CONCURRENCY=1
MTPROTO_SLEEP_THRESHOLD=3.0

# ============================================================================
# PAYMENT SYSTEM - Development (Test Mode)
# ============================================================================
PAYMENT_PROCESSING_ENABLED=true
MOCK_PAYMENT_GATEWAYS=true

# Stripe (Test Keys)
STRIPE_SECRET_KEY=sk_test_CHANGE_ME_YOUR_STRIPE_TEST_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=pk_test_CHANGE_ME_YOUR_STRIPE_TEST_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=whsec_CHANGE_ME_YOUR_STRIPE_TEST_WEBHOOK_SECRET
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_CHANGE_ME_YOUR_STRIPE_TEST_PUBLISHABLE_KEY
VITE_STRIPE_TEST_MODE=true

# PayMe/Click (Development - optional)
PAYME_SECRET_KEY=
PAYME_MERCHANT_ID=
CLICK_SECRET_KEY=
CLICK_MERCHANT_ID=

# ============================================================================
# TWA CONFIGURATION - Development
# ============================================================================
TWA_HOST_URL=http://localhost:11300
VITE_TWA_BOT_USERNAME=@your_dev_bot_username
VITE_TWA_START_PARAM=analytics

# ============================================================================
# ANALYTICS & MONITORING - Development
# ============================================================================
ANALYTICS_ENABLED=true
ANALYTICS_CACHE_ENABLED=false
ANALYTICS_UPDATE_INTERVAL=300
TRENDING_ANALYTICS_ENABLED=true
MATERIALIZED_VIEWS_ENABLED=false

# Prometheus (Development - Optional)
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9091
METRICS_ENABLED=true

# Sentry (Development - Optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_SAMPLE_RATE=0.1
VITE_SENTRY_DSN=

# ============================================================================
# AI SERVICES - Development
# ============================================================================
ANTHROPIC_API_KEY=CHANGE_ME_YOUR_ANTHROPIC_API_KEY
OPENAI_API_KEY=CHANGE_ME_YOUR_OPENAI_API_KEY
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=2000

# ============================================================================
# STORAGE & FILE HANDLING - Development
# ============================================================================
STORAGE_TYPE=local
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_S3_REGION=us-east-1

# ============================================================================
# EMAIL CONFIGURATION - Development (Mock)
# ============================================================================
MOCK_EMAIL_DELIVERY=true
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_USE_TLS=false
SMTP_FROM_NAME=AnalyticBot Dev
SMTP_FROM_EMAIL=dev@analyticbot.local

# ============================================================================
# TASK QUEUE & BACKGROUND JOBS - Development
# ============================================================================
CELERY_BROKER_URL=redis://localhost:10200/1
CELERY_RESULT_BACKEND=redis://localhost:10200/2
CELERY_TASK_ALWAYS_EAGER=true
CELERY_WORKER_CONCURRENCY=2
SCHEDULER_ENABLED=true
BACKGROUND_CLEANUP_ENABLED=false

# Task Configuration
TASK_MAX_RETRIES=3
TASK_RETRY_DELAY=60
TASK_TIME_LIMIT=300
TASK_SOFT_TIME_LIMIT=240

# ============================================================================
# RATE LIMITING & SECURITY - Development (Relaxed)
# ============================================================================
RATE_LIMITING_ENABLED=false
RATE_LIMIT_ENABLED=false
RATE_LIMIT_PER_MINUTE=1000
ENFORCE_PLAN_LIMITS=false

# ============================================================================
# HEALTH CHECKS & MONITORING - Development
# ============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
WEBHOOK_DELIVERY_ENABLED=false

# ============================================================================
# FEATURE FLAGS - Development
# ============================================================================
NOTIFICATIONS_ENABLED=true
SHARE_LINKS_ENABLED=true
ETAG_CACHE_ENABLED=false
MOCK_TELEGRAM_API=false

# ============================================================================
# EXTERNAL ACCESS - Development
# ============================================================================
EXTERNAL_API_URL=http://localhost:11400
EXTERNAL_FRONTEND_URL=http://localhost:11300

# ============================================================================
# DOCKER CONFIGURATION - Development (for hybrid setup)
# ============================================================================
DOCKER_DATABASE_URL=postgresql+asyncpg://analytic:CHANGE_ME_PASSWORD@db:5432/analytic_bot
DOCKER_REDIS_URL=redis://redis:6379/0
DOCKER_API_HOST_URL=http://api:10300

# ============================================================================
# DEVELOPMENT TOOLS & TESTING
# ============================================================================
WATCHDOG_ENABLED=true
RELOAD_DIRS=["apps", "core", "config"]
PYTEST_ASYNCIO_MODE=auto
TEST_ENV=development
SEED_DEVELOPMENT_DATA=true
CREATE_SAMPLE_USERS=true
REPORT_GENERATION_SCHEDULE=manual